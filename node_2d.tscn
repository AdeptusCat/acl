[gd_scene load_steps=12 format=4 uid="uid://cq2fy70xef7ei"]

[ext_resource type="Script" uid="uid://xx1wiov37kjh" path="res://node_2d.gd" id="1_0hol4"]
[ext_resource type="Texture2D" uid="uid://bkkle73esqn4l" path="res://16x16_b.png" id="1_epypp"]
[ext_resource type="Texture2D" uid="uid://cmlg2lj21tppk" path="res://house.png" id="2_0hol4"]
[ext_resource type="Texture2D" uid="uid://dumhqxj03bmxb" path="res://wall.png" id="4_q6r6c"]
[ext_resource type="PackedScene" uid="uid://2hjr61yy5x61" path="res://los_helper.tscn" id="6_kdubu"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_kdubu"]
texture = ExtResource("1_epypp")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/custom_data_0 = 1

[sub_resource type="TileSet" id="TileSet_rj586"]
tile_shape = 3
tile_size = Vector2i(64, 64)
custom_data_layer_0/name = "elevation"
custom_data_layer_0/type = 2
sources/7 = SubResource("TileSetAtlasSource_kdubu")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_0hol4"]
texture = ExtResource("2_0hol4")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(20.5517, -16.0909, -24.3753, -16.7281, -24.0566, 16.7281, 22.1448, 17.0467, 24.3753, 7.80645, 25.3311, -1.75247)
0:0/0/custom_data_0 = 2

[sub_resource type="TileSet" id="TileSet_q6r6c"]
tile_shape = 3
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 1
custom_data_layer_0/name = "cover"
custom_data_layer_0/type = 2
sources/8 = SubResource("TileSetAtlasSource_0hol4")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_d21ai"]
texture = ExtResource("4_q6r6c")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-25.4013, 13.5474, -27.0947, -11.854, -36.6908, -12.4184, -36.6908, 14.6763)
0:0/0/custom_data_1 = "west"

[sub_resource type="TileSet" id="TileSet_0hol4"]
tile_shape = 3
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 2
physics_layer_0/collision_mask = 2
custom_data_layer_0/name = "cover"
custom_data_layer_0/type = 2
custom_data_layer_1/name = "wall_direction"
custom_data_layer_1/type = 4
sources/0 = SubResource("TileSetAtlasSource_d21ai")

[node name="Node2D" type="Node2D"]
script = ExtResource("1_0hol4")

[node name="GroundTileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAAAABwAAAAAAAAABAAAABwAAAAAAAAACAAAABwAAAAAAAAADAAAABwAAAAAAAAACAAEABwAAAAAAAAABAAEABwAAAAAAAAAAAAEABwAAAAAAAAAAAAIABwAAAAAAAAABAAIABwAAAAAAAAACAAIABwAAAAAAAAADAAIABwAAAAAAAAAAAAMABwAAAAAAAAABAAMABwAAAAAAAAACAAMABwAAAAAAAAADAAMABwAAAAAAAAAEAAIABwAAAAAAAAADAAEABwAAAAAAAAAEAAAABwAAAAAAAAAEAAMABwAAAAAAAAAFAAAABwAAAAAAAAAEAAEABwAAAAAAAAAFAAIABwAAAAAAAAAFAAMABwAAAAAAAAAFAAQABwAAAAAAAAAEAAQABwAAAAAAAAADAAQABwAAAAAAAAACAAQABwAAAAAAAAABAAQABwAAAAAAAAAAAAQABwAAAAAAAAAAAAUABwAAAAAAAAABAAUABwAAAAAAAAACAAUABwAAAAAAAAADAAUABwAAAAAAAAAEAAUABwAAAAAAAAAAAAYABwAAAAAAAAABAAYABwAAAAAAAAACAAYABwAAAAAAAAADAAYABwAAAAAAAAAEAAYABwAAAAAAAAAGAAYABwAAAAAAAAAFAAYABwAAAAAAAAAFAAUABwAAAAAAAAAGAAUABwAAAAAAAAAGAAQABwAAAAAAAAAGAAMABwAAAAAAAAAGAAIABwAAAAAAAAAGAAEABwAAAAAAAAAGAAAABwAAAAAAAAAFAAEABwAAAAAAAAA=")
tile_set = SubResource("TileSet_rj586")

[node name="BuildingTileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAACAAQACAAAAAAAAAAFAAIACAAAAAAAAAABAAEACAAAAAAAAAA=")
tile_set = SubResource("TileSet_q6r6c")

[node name="WallTileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAACAAMAAAAAAAAAAAA=")
tile_set = SubResource("TileSet_0hol4")

[node name="LOSHelper" parent="." node_paths=PackedStringArray("ground_layer", "building_layer", "wall_layer") instance=ExtResource("6_kdubu")]
ground_layer = NodePath("../GroundTileMapLayer")
building_layer = NodePath("../BuildingTileMapLayer")
wall_layer = NodePath("../WallTileMapLayer")
debug_draw_enabled = true
